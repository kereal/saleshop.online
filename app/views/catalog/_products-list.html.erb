<div class="products clearfix">

  <% @products.each do |product| %>
    <div class="product">
      <div class="image">
        <% if product.image %>
          <%= link_to image_tag(product.image(:medium), alt: product.title), product, title: product.title %>
        <% else %>
          <%= link_to image_tag("http://placehold.it/208x248/f9f9f9/777?text=нет+фото", alt: nil), product %>
        <% end %>
      </div>
      <div class="brand">
        <% if product.brand %>
          <%= link_to product.brand.title, product.brand %>
        <% else %>
          &nbsp;
        <% end %>
      </div>
      <div class="title" title="<%= product.title %>"><%= product.title %></div>
      <div class="price">
        <%= number_to_currency product.discount_price %>
        <% if product.discount %>
          <s><%= number_to_currency product.price %></s>
          <em class="discount">&minus;<%= product.discount %>%</em>
        <% end %>
      </div>
      <div class="actions">
      <%= link_to "В корзину", product_one_click_buy_path(product) %>
        <%= link_to "Посмотреть", product, class: "show" %>
      </div>
    </div>
  <% end %>

</div>


<style>

  .products {}
    .product {
      float: left;
      width: 18.4%;
      margin-right: 2%;
      margin-bottom: 2%;
      border: 1px dotted #fff;
      font-size: 0.929em;
      }
    .product:nth-child(5n) {
      margin-right: 0;
      }
      .product > .image {
        margin-bottom: 8px;
        text-align: center;
        height: 248px;
        overflow: hidden;
        }
        .product > .image img {
          width: 100%;
          max-width: 100%;
          }
      .product > .brand {
        font-size: .9em;
        }
      .product > .title {
        overflow: hidden;
        white-space: nowrap;
        position: relative;
        }
        .product > .title:after {
          content: "";
          position: absolute;
          top: 0;
          right: 0;
          width: 11%;
          height: 100%;
          background: linear-gradient(to right, transparent, #fff);
          }
      .product > .price {
        font-weight: bold;
        color: #ad1d22;
        }
        .product > .price > s {
          font-weight: normal;
          font-size: 0.857em;
          color: #666;
          }
        .product > .price > .discount {
          float: right;
          background: rgba(12, 148, 148, .86);
          color: #fff;
          font-weight: 200;
          font-style: normal;
          padding: 0 8px;
          }
      .product > .actions {
        white-space: nowrap;
        margin-top: 3px;
        }
        .product > .actions > a {
          display: inline-block !important;
          padding: 2px 6px;
          border: 0;
          /*background: rgb(177,0,0);*/
          color: #fff;
          opacity: .8;
          border-radius: 2px;

          padding: 1px 5px;
          border: 1px solid rgba(177,0,0, .8);
          background: transparent;
          color: rgb(177,0,0);
          }
        .product > .actions > a:hover {
          opacity: 1;
          }
        .product > .actions > a.show {
          /*background: rgb(51,122,183);*/
          border: 1px solid rgba(51,122,183, .8);
          background: transparent;
          color: rgb(51,122,183);
          }
        
  .sub-categories {
    margin-bottom: 12px;
    }
    .sub-categories a {
      white-space: nowrap;
      }

</style>